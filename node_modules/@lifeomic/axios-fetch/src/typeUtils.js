"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getUrl = exports.createAxiosHeaders = exports.createFetchHeaders = void 0;
function createFetchHeaders(axiosHeaders = {}) {
    const headers = [];
    Object.entries(axiosHeaders).forEach(([name, value]) => {
        headers.push([name, value]);
    });
    return headers;
}
exports.createFetchHeaders = createFetchHeaders;
const isHeaders = (headers) => { var _a; return ((_a = headers.constructor) === null || _a === void 0 ? void 0 : _a.name) === 'Headers'; };
function createAxiosHeaders(headers = {}) {
    const rawHeaders = {};
    if (isHeaders(headers)) {
        headers.forEach((value, name) => {
            rawHeaders[name] = value;
        });
    }
    else if (Array.isArray(headers)) {
        headers.forEach(([name, value]) => {
            if (value) {
                rawHeaders[name] = value;
            }
        });
    }
    else {
        Object.entries(headers).forEach(([name, value]) => {
            if (value) {
                rawHeaders[name] = value;
            }
        });
    }
    return rawHeaders;
}
exports.createAxiosHeaders = createAxiosHeaders;
function getUrl(input) {
    let url;
    if (typeof input === 'string') {
        url = input;
    }
    else if (input === null || input === void 0 ? void 0 : input.href) {
        url = input.href;
    }
    else if (input === null || input === void 0 ? void 0 : input.url) {
        url = input.url;
    }
    return url;
}
exports.getUrl = getUrl;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHlwZVV0aWxzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsidHlwZVV0aWxzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQVNBLFNBQWdCLGtCQUFrQixDQUFFLGVBQXVDLEVBQUU7SUFDM0UsTUFBTSxPQUFPLEdBQXVCLEVBQUUsQ0FBQztJQUN2QyxNQUFNLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxFQUFFLEVBQUU7UUFDckQsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDO0lBQzlCLENBQUMsQ0FBQyxDQUFDO0lBQ0gsT0FBTyxPQUFPLENBQUM7QUFDakIsQ0FBQztBQU5ELGdEQU1DO0FBRUQsTUFBTSxTQUFTLEdBQUcsQ0FBQyxPQUFvQixFQUFzQixFQUFFLFdBQUMsT0FBQSxDQUFBLE1BQUEsT0FBTyxDQUFDLFdBQVcsMENBQUUsSUFBSSxNQUFLLFNBQVMsQ0FBQSxFQUFBLENBQUM7QUFFeEcsU0FBZ0Isa0JBQWtCLENBQUUsVUFBdUIsRUFBRTtJQUMzRCxNQUFNLFVBQVUsR0FBMkIsRUFBRSxDQUFDO0lBRTlDLElBQUksU0FBUyxDQUFDLE9BQU8sQ0FBQyxFQUFFO1FBQ3RCLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxLQUFLLEVBQUUsSUFBSSxFQUFFLEVBQUU7WUFDOUIsVUFBVSxDQUFDLElBQUksQ0FBQyxHQUFHLEtBQUssQ0FBQztRQUMzQixDQUFDLENBQUMsQ0FBQztLQUNKO1NBQU0sSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxFQUFFO1FBQ2pDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsRUFBRSxFQUFFO1lBQ2hDLElBQUksS0FBSyxFQUFFO2dCQUNULFVBQVUsQ0FBQyxJQUFLLENBQUMsR0FBRyxLQUFLLENBQUM7YUFDM0I7UUFDSCxDQUFDLENBQUMsQ0FBQztLQUNKO1NBQU07UUFDTCxNQUFNLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxFQUFFLEVBQUU7WUFDaEQsSUFBSSxLQUFLLEVBQUU7Z0JBQ1QsVUFBVSxDQUFDLElBQUksQ0FBQyxHQUFHLEtBQUssQ0FBQzthQUMxQjtRQUNILENBQUMsQ0FBQyxDQUFDO0tBQ0o7SUFDRCxPQUFPLFVBQVUsQ0FBQztBQUNwQixDQUFDO0FBckJELGdEQXFCQztBQUVELFNBQWdCLE1BQU0sQ0FBRSxLQUFlO0lBQ3JDLElBQUksR0FBdUIsQ0FBQztJQUM1QixJQUFJLE9BQU8sS0FBSyxLQUFLLFFBQVEsRUFBRTtRQUM3QixHQUFHLEdBQUcsS0FBSyxDQUFDO0tBQ2I7U0FBTSxJQUFJLEtBQUssYUFBTCxLQUFLLHVCQUFMLEtBQUssQ0FBRSxJQUFJLEVBQUU7UUFDdEIsR0FBRyxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUM7S0FDbEI7U0FBTSxJQUFJLEtBQUssYUFBTCxLQUFLLHVCQUFMLEtBQUssQ0FBRSxHQUFHLEVBQUU7UUFDckIsR0FBRyxHQUFHLEtBQUssQ0FBQyxHQUFHLENBQUM7S0FDakI7SUFDRCxPQUFPLEdBQUcsQ0FBQztBQUNiLENBQUM7QUFWRCx3QkFVQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEhlYWRlcnMgYXMgTm9kZUhlYWRlcnMgfSBmcm9tICdub2RlLWZldGNoJztcblxuZXhwb3J0IHR5cGUgSGVhZGVyc0xpa2UgPSBzdHJpbmdbXVtdIHwgUmVjb3JkPHN0cmluZywgc3RyaW5nIHwgdW5kZWZpbmVkPiB8IEhlYWRlcnMgfCBOb2RlSGVhZGVycztcblxuZXhwb3J0IHR5cGUgVXJsTGlrZSA9IHN0cmluZyB8IHtcbiAgaHJlZj86IHN0cmluZztcbiAgdXJsPzogc3RyaW5nO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRmV0Y2hIZWFkZXJzIChheGlvc0hlYWRlcnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fSk6IFtzdHJpbmcsIHN0cmluZ11bXSB7XG4gIGNvbnN0IGhlYWRlcnM6IFtzdHJpbmcsIHN0cmluZ11bXSA9IFtdO1xuICBPYmplY3QuZW50cmllcyhheGlvc0hlYWRlcnMpLmZvckVhY2goKFtuYW1lLCB2YWx1ZV0pID0+IHtcbiAgICBoZWFkZXJzLnB1c2goW25hbWUsIHZhbHVlXSk7XG4gIH0pO1xuICByZXR1cm4gaGVhZGVycztcbn1cblxuY29uc3QgaXNIZWFkZXJzID0gKGhlYWRlcnM6IEhlYWRlcnNMaWtlKTogaGVhZGVycyBpcyBIZWFkZXJzID0+IGhlYWRlcnMuY29uc3RydWN0b3I/Lm5hbWUgPT09ICdIZWFkZXJzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUF4aW9zSGVhZGVycyAoaGVhZGVyczogSGVhZGVyc0xpa2UgPSB7fSk6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4ge1xuICBjb25zdCByYXdIZWFkZXJzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG5cbiAgaWYgKGlzSGVhZGVycyhoZWFkZXJzKSkge1xuICAgIGhlYWRlcnMuZm9yRWFjaCgodmFsdWUsIG5hbWUpID0+IHtcbiAgICAgIHJhd0hlYWRlcnNbbmFtZV0gPSB2YWx1ZTtcbiAgICB9KTtcbiAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGhlYWRlcnMpKSB7XG4gICAgaGVhZGVycy5mb3JFYWNoKChbbmFtZSwgdmFsdWVdKSA9PiB7XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgcmF3SGVhZGVyc1tuYW1lIV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBPYmplY3QuZW50cmllcyhoZWFkZXJzKS5mb3JFYWNoKChbbmFtZSwgdmFsdWVdKSA9PiB7XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgcmF3SGVhZGVyc1tuYW1lXSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHJldHVybiByYXdIZWFkZXJzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VXJsIChpbnB1dD86IFVybExpa2UpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICBsZXQgdXJsOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIGlmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnKSB7XG4gICAgdXJsID0gaW5wdXQ7XG4gIH0gZWxzZSBpZiAoaW5wdXQ/LmhyZWYpIHtcbiAgICB1cmwgPSBpbnB1dC5ocmVmO1xuICB9IGVsc2UgaWYgKGlucHV0Py51cmwpIHtcbiAgICB1cmwgPSBpbnB1dC51cmw7XG4gIH1cbiAgcmV0dXJuIHVybDtcbn1cbiJdfQ==